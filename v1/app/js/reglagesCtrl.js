"use strict";app.directive("ngEnter",function(){return function(n,i,e){i.bind("keydown keypress",function(i){13===i.which&&(n.$apply(function(){n.$eval(e.ngEnter)}),i.preventDefault())})}}),app.controller("reglagesCtrl",["$scope","$timeout","$filter","toastFact","$mdDialog","$mdBottomSheet","persistContainer",function(n,i,e,o,s,t,a){n.config={},n.refreshTR=function(){n.transmission_obj=a.apiTR.transmission_obj,utils.getParam(a.apiDB,"TRaccess",function(i){n.TRhost=i.host,n.TRport=i.port,n.TRusername=i.username,n.TRpassword=i.password,n.$apply()},!0)},n.refreshTR(),n.disconnectTransmission=function(){a.apiTR.disconnectToApi(function(){n.transmission_obj=a.apiTR.transmission_obj})},n.connectTransmission=function(i,e,s,t){a.apiTR.saveAccess(i,e,s,t,function(){a.apiTR.connectToApi(function(i){n.transmission_obj=a.apiTR.transmission_obj,i?o.show("Connecté à Transmission"):o.show("Erreur lors de la connection à Transmission","error"),n.$apply()})})},n.refreshBT=function(){n.user=a.apiBT.user,utils.getParam(a.apiDB,"BTaccess",function(i){n.BTnom=i.login,n.BTpassword=i.password,n.$apply()},!0)},n.refreshBT(),n.connectBetaseries=function(i,e){a.apiBT.saveAccess(i,e,function(){a.apiBT.connectToApi(function(){n.user=a.apiBT.user,a.apiBT.user.token?o.show("Connecté à Betaseries"):o.show("Identifiants Betaseries incorrect","error"),n.$apply()})})},n.disconnectBetaseries=function(){a.apiBT.disconnectToApi(function(){n.user=a.apiBT.user,n.$apply()})},n.changeQuality=function(){utils.setParam(a.apiDB,"episodeQuality",n.config.episodeQuality,function(){a.episodeQuality=n.config.episodeQuality,o.show("Changement enregistré")})},n.refreshQuality=function(){n.config.episodeQuality=a.episodeQuality},n.refreshQuality(),n.selectStrFolder=function(n){ipc.send("dialog-selection-dossier")},ipc.on("dialog-selection-dossier-reply",function(i,e){var s=e[0];n.pathDownloadFolder=a.pathDownloadFolder=s,n.$apply(),utils.setParam(a.apiDB,"strFolder",s,function(){o.show("Dossier sous titres modifié")})}),n.refreshST=function(){utils.getParam(a.apiDB,"strFolder",function(i){n.pathDownloadFolder=i,n.$apply()})},n.refreshST(),n.refreshT411=function(){n.t411Token=a.apiT4.t411Client.token,n.t411Name=a.apiT4.name,utils.getParam(a.apiDB,"T4access",function(i){n.T4nom=i.login,n.T4password=i.password,n.$apply()},!0)},n.refreshT411(),n.disconnectT411=function(){a.apiT4.disconnectToApi(function(){n.refreshT411()})},n.connectT411=function(i,e){a.apiT4.saveAccess(i,e,function(){a.apiT4.connectToApi(function(){n.refreshT411(),n.$apply()})})}}]);